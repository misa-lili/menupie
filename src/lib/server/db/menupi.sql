DROP TABLE IF EXISTS menus;
CREATE TABLE menus (
  id SERIAL PRIMARY KEY, -- 이것도 URL로 사용될 것임, 불변하는 URL
  key VARCHAR(255) UNIQUE NOT NULL, -- 이것도 URL로 사용될 것임, 가변하는 URL
  email VARCHAR(255) NOT NULL, -- 토큰에 있는 이메일과 일치해야 함
  data JSONB
);

INSERT INTO menus 
(key, email, data) 
VALUES ('main', 'hakgeumkim@gmail.com', '{"title": {"id": "d48ec859-e633-44f8-b166-165c6f32849b", "value": "MENUPI🥧!<div>메뉴파이<span style=\"font-size: 2.25rem;\">🥧</span><span style=\"font-size: 2.25rem;\">!</span></div>"}, "groups": [{"id": "f212895a-d600-49cc-bc80-f8569488bad6", "col": "원화 / 미화", "name": "메뉴파이 얼마예요?", "items": [{"id": "411801d6-41d7-4aca-a35c-a4ff8fc15e30", "out": false, "name": "메뉴파이는 완전 무료입니다", "price": "0원 / $0", "description": "라즈베리파이가 서버로 느리지만 열심히 돌고있습니다."}, {"id": "67167a0b-e8a8-47bf-bb30-4dd2f58d0d77", "out": true, "name": "템플릿을 유료로 팔 예정", "price": "싯가 / 싯가", "description": "아름답고 편리한 기능을 가진 템플릿들을 유료로 팔 예정입니다."}, {"id": "f76a314a-972f-4dbd-bb20-f9e683417c61", "out": false, "name": "<img class=\"image-placeholder\" src=\"https://i.imgur.com/awujHab.png\" alt=\"fine-memes-health-If-seen-any-posts-ll-notice-things-rough-while-way-out-unless-lot-changes-also-see-happening-house-4-adults\" style=\"font-weight: 400;\">", "price": "<br>", "description": "<br>"}]}, {"id": "bd10c218-19b6-4539-b6dc-8bfe7c94b732", "col": "\n", "name": "메뉴 만드는 방법", "items": [{"id": "097a8e31-84bd-4ade-8d76-2733b6dbe7b6", "out": false, "name": "<img src=\"https://i.imgur.com/OFxjKFZ.jpeg\">", "price": "<br>", "description": "<br>"}, {"id": "dfbf1fb5-4a5d-4b6d-bceb-f0c2c93a3242", "out": false, "name": "로그인 하기", "price": "<br>", "description": "오른쪽 상단에 있는 화살표 아이콘을 눌러&nbsp;<div>오른쪽 시트를 열고 구글을 통해 로그인하세요.<br></div>"}, {"id": "5a19a572-b91b-446f-9af0-fb8dccb2bf71", "out": false, "name": "메뉴 만들기", "price": "<br>", "description": "메뉴 만들기 버튼을 누르고 key 값을 입력해 줍시다.&nbsp;<div>key 값이란 닉네임 같은겁니다.</div>"}, {"id": "d0593652-a28a-45ea-b0d3-9dc4687a4fa8", "out": false, "name": "수정하기", "price": "<br>", "description": "왼쪽 상단에 있는 선택 버튼을 통해서&nbsp;<div>Editor 템플릿을 선택하고 메뉴를 수정합니다.</div>"}, {"id": "7f584d84-b62c-4c20-b6e2-760bc475f6e9", "out": false, "name": "편집 도구", "price": "<br>", "description": "🔼 위로 올립니다.<div>🔽 아래로 내립니다.</div><div>⛔️ 반투명하게 만들고 가로선을 긋습니다.</div><div>🖼️ HTML과 TEXT간에 변환합니다. (사진 올릴때 씀)</div><div>🗑️ 삭제합니다.</div>"}, {"id": "c04ab035-23e8-4ec8-b4e3-733b5520a263", "out": false, "name": "저장하기", "price": "<br>", "description": "열심히 해놓고 저장안하면 진짜 바보...<div>CTRL(COMMAND) + s 가능!</div>"}, {"id": "37e30885-9d35-48bd-a803-a3c84415ffbd", "out": false, "name": "템플릿 바꿔보기", "price": "<br>", "description": "템플릿 선택후에는 꼭 템플릿 변경 버튼을 눌러서 적용해야 합니다."}, {"id": "b4f4ed1e-7e26-4816-ab62-c849f9f9b268", "out": false, "name": "공유하기", "price": "<br>", "description": "url을 그대로 쓰면됩니다."}]}, {"id": "eb890ec4-66ec-4e45-be9e-23556c104d97", "col": "\n", "name": "도움될 사항", "items": [{"id": "bb8e1250-ecdd-4ac6-a41c-96194b781e35", "out": false, "name": "아무데서나 이미지를 넣을 수 있습니다", "price": "<br>", "description": "이미지를 복사해서 넣거나 &lt;img src=\"https://이미지주소\" /&gt; 라고 치고 액자 아이콘 누르면 됩니다."}, {"id": "e94c263f-fec8-4f6f-b1a0-063e37f44adb", "out": false, "name": "템플릿이 \"Editor\" 일때 수정가능합니다", "price": "\n", "description": "네 그렇습니다 어차피 본인만 수정가능하니 템플릿을 에디터로 저장하셨다고 해도 겁먹지 마세요."}, {"id": "382a937e-9265-4a31-85ed-7a8a235baf73", "out": false, "name": "key 는 변경 가능", "price": "\n", "description": "따라서 key 주소도 변경가능합니다."}, {"id": "a49aa188-1f9d-43ab-a971-a791f084a834", "out": false, "name": "id 는 변경 불가능", "price": "\n", "description": "따라서 id 주소를 통해서 외부 도메인에 연결하는게 좋습니다."}, {"id": "52e11f6b-4bcc-4044-8d32-42f0ea4cc033", "out": false, "name": "그러니까 QR 코드는", "price": "\n", "description": "id 주소로 생성하세요. QR 코드 만드는 법은 검색하면 많이 나옵니다."}]}, {"id": "9725efd1-6fbe-498c-8033-444317add47d", "col": "<br>", "name": "괜찮은 메뉴들 구경해보세요", "items": [{"id": "e1060c87-2306-4c6c-9d0c-d87336e9799d", "out": false, "name": "도시술", "price": "<br>", "description": "https://dosisool.com"}, {"id": "c3c39be9-42c8-414e-8e36-c7c1bd9ec75a", "out": false, "name": "깨물", "price": "<br>", "description": "https://menupi.app/kkaemool (menupi.app 도메인 커밍순)"}]}], "styles": [], "footers": [{"id": "45e85314-08b1-4cc2-b6f6-4a0b30843f95", "out": false, "value": "https://github.com/misa-lili/qqur\n"}, {"id": "ebfaa63e-0c0e-487e-ba87-e6c602c7c1ec", "out": false, "value": "kyom@misalili.com\n"}], "headers": [{"id": "c9b7065c-2a39-4e66-a9d3-75593b38002a", "value": "지금 이 페이지는 자유롭게 수정가능한 메뉴입니다."}, {"id": "9a6dce76-7f7d-446a-8e11-7cfce46004e3", "value": "관리자 말고는 저장이 안되니 안심하세요."}, {"id": "32ed72b6-d2e1-4ede-a0e7-22a0641f95f2", "value": "뭔가 이상해지면 그냥 새로고침 하세요!"}], "scripts": [], "template": "Editor"}')
ON CONFLICT (key) DO NOTHING;
